package com.renren.ugc.comment.interceptor.impl;

import java.util.List;

import org.apache.log4j.Logger;

import com.renren.ugc.comment.exception.UGCCommentException;
import com.renren.ugc.comment.service.CommentLogicAdapter;
import com.renren.ugc.comment.strategy.CommentStrategy;
import com.renren.ugc.comment.util.AtUtil;
import com.renren.ugc.comment.util.ShortUrlUtil;
import com.renren.ugc.comment.xoa2.Comment;
import com.renren.ugc.comment.xoa2.CommentType;


/**
 * @author wangxx
 * 
 *  短链接解密，把一个合法的人人短链接变成一个带有链接的原始url
 *
 */
public class ShortUrlDecryptInterceptor extends CommentLogicAdapter{
    
//    private Logger logger = Logger.getLogger(this.getClass());
//    
//    @Override
//    public Comment create(CommentType type, int actorId, long entryId, int entryOwnerId,
//            final Comment comment, final CommentStrategy strategy) throws UGCCommentException {
//
//        if (!strategy.isReplaceShortUrl()) {
//            if (logger.isDebugEnabled()) {
//                logger.info("ignore sending comment created shorturl info");
//            }
//            return null;
//        }
//        
//        //1.get return value
//        Comment result  = (Comment)strategy.getReturnedValue();
//        
//        //2.decrypt
//        ShortUrlUtil.getInstance().getOriginalContent(result);
//
//        return null;
//    }
//    
//    @Override
//    public List<Comment> getList(CommentType commentType, int actorId, long entryId,
//            int entryOwner, CommentStrategy strategy) throws UGCCommentException {
//        
//        if (!strategy.isReplaceShortUrl()) {
//            if (logger.isDebugEnabled()) {
//                logger.info("ignore sending comment created shorturl info");
//            }
//            return null;
//        }
//        
//        //1.get return value
//        List<Comment> result  = (List<Comment>)strategy.getReturnedValue();
//        
//        //2.decrypt
//       ShortUrlUtil.getInstance().getBatchOriginalContent(result);
//        
//        return null;
//
//    }
//    
//    @Override
//    public Comment getOldestCommentOfEntry(CommentType type, long entryId, int entryOwnerId,
//            CommentStrategy strategy) {
//
//        //1.get return value
//        Comment result = (Comment) strategy.getReturnedValue();
//
//        //2.decrypt
//        ShortUrlUtil.getInstance().getOriginalContent(result);
//
//        return null;
//    }
//
//    @Override
//    public Comment getLatestCommentOfEntry(CommentType type, long entryId, int entryOwnerId,
//            CommentStrategy strategy) {
//
//        //1.get return value
//        Comment result = (Comment) strategy.getReturnedValue();
//
//        //2.decrypt
//        ShortUrlUtil.getInstance().getOriginalContent(result);
//        
//        return null;
//    }

}
